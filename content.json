{"meta":{"title":"你的名字。","subtitle":null,"description":null,"author":"你的名字。","url":"http://loveswift.site"},"pages":[{"title":"关于我","date":"2017-02-19T00:00:13.000Z","updated":"2017-02-19T00:12:37.000Z","comments":true,"path":"about/index.html","permalink":"http://loveswift.site/about/index.html","excerpt":"","text":"三体小小监听员如果看到这条消息请不要回答！不要回答！不要回答！"},{"title":"links","date":"2017-02-17T11:36:10.000Z","updated":"2017-02-17T11:36:10.000Z","comments":true,"path":"links/index.html","permalink":"http://loveswift.site/links/index.html","excerpt":"","text":""},{"title":"相册","slug":"photos","date":"2017-02-17T09:33:51.000Z","updated":"2017-02-17T09:33:51.000Z","comments":false,"path":"photos/index.html","permalink":"http://loveswift.site/photos/index.html","excerpt":"","text":"七牛 图片来自七牛，正在加载中… (function() { var loadScript = function(path) { var $script = document.createElement('script') document.getElementsByTagName('body')[0].appendChild($script) $script.setAttribute('src', path) } setTimeout(function() { loadScript('./ins.js') }, 0) })()"},{"title":"","date":"2017-02-16T01:58:21.000Z","updated":"2017-02-15T03:17:08.000Z","comments":true,"path":"photos/ins.css","permalink":"http://loveswift.site/photos/ins.css","excerpt":"","text":"#post-instagram{ padding: 30px; } #post-instagram .article-entry{ padding-right: 0; } .instagram{ position: relative; min-height: 500px; } .instagram img { width: 100%; } .instagram .year { font-size: 16px; } .instagram .open-ins{ padding: 10px 0; color: #cdcdcd; } .instagram .open-ins:hover{ color: #657b83; } .instagram .year{ display: inline; } .instagram .thumb { width: 25%; height: 0; padding-bottom: 25%; position: relative; display: inline-block; text-align: center; background: #ededed; outline: 1px solid #ddd; } .instagram .thumb a { position: relative; } .instagram .album h1 em{ font-style: normal; font-size: 14px; margin-left: 10px; } .instagram .album ul{ display: flex; flex-wrap: wrap; clear: both; width: 100%; text-align: left; } .instagram .album li{ list-style: none; display: inline-block; box-sizing: border-box; padding: 0 5px; margin-bottom: -10px; height: 0; width: 25%; position: relative; padding-bottom: 25%; } .instagram .album li:before{ display: none; } .instagram .album div.img-box{ position: absolute; width: 90%; height: 90%; -webkit-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1); -moz-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1); box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1); } .instagram .album div.img-box img{ width: 100%; height: 100%; position: absolute; z-index: 2; } .instagram .album div.img-box .img-bg{ position: absolute; top: 0; left: 0; bottom: 0px; width: 100%; margin: -5px; padding: 5px; -webkit-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1); -moz-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1); box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1); -webkit-transition: all 0.15s ease-out 0.1s; -moz-transition: all 0.15s ease-out 0.1s; -o-transition: all 0.15s ease-out 0.1s; transition: all 0.15s ease-out 0.1s; opacity: 0.2; cursor: pointer; display: block; z-index: 3; } .instagram .album div.img-box .icon { font-size: 14px; position: absolute; left: 50%; top: 50%; margin-left: -7px; margin-top: -7px; color: #999; z-index: 1; } .instagram .album div.img-box .img-bg:hover{ opacity: 0; } .photos-btn-wrap { border-bottom: 1px solid #e5e5e5; margin-bottom: 20px; } .photos-btn { font-size: 16px; color: #333; margin-bottom: -4px; padding: 5px 8px 3px; } .photos-btn.active { color: #08c; border: 1px solid #e5e5e5; border-bottom: 5px solid #fff; } @media screen and (max-width:600px) { .instagram .thumb { width: 50%; padding-bottom: 50%; } .instagram .album li { width: 100%; position: relative; padding-bottom: 100%; text-align: center; } .instagram .album div.img-box{ margin: 0; width: 90%; height: 90%; } }"},{"title":"","date":"2017-02-18T15:11:11.000Z","updated":"2017-02-18T15:11:11.000Z","comments":true,"path":"photos/ins.json","permalink":"http://loveswift.site/photos/ins.json","excerpt":"","text":"[\"2015-04-29 173112.jpg\",\"2015-04-29 220053.jpg\",\"2015-04-29 220204.jpg\",\"2015-04-29 220228.jpg\",\"2015-04-29 220319.jpg\",\"2015-04-29 220449.jpg\",\"2015-04-29 220508.jpg\",\"2015-04-29 220512.jpg\",\"2015-04-29 220522.jpg\",\"2015-04-29 220547.jpg\",\"2015-04-29 220610.jpg\",\"2015-04-29 220618.jpg\",\"2015-04-29 220622.jpg\",\"2015-04-29 220653.jpg\",\"2015-04-29 220715.jpg\",\"2015-04-29 220732.jpg\",\"2016-01-22 184120.jpg\",\"2016-01-26 082022.jpg\",\"2016-01-26 191152.jpg\",\"2016-01-26 191156.jpg\",\"2016-01-29 143929.jpg\",\"2016-01-29 143935.jpg\",\"2016-01-29 143941.jpg\",\"2016-01-29 144208.jpg\",\"2016-01-29 144427.jpg\",\"2016-01-29 155644.jpg\",\"2016-01-29 155648.jpg\",\"2016-01-29 155651.jpg\",\"2016-01-29 155655.jpg\",\"2016-01-29 160501.jpg\",\"2016-01-29 162652.jpg\",\"2016-01-31 123954.jpg\",\"2016-01-31 124056.jpg\",\"2016-01-31 124129.jpg\",\"2016-01-31 124150.jpg\",\"2016-02-01 175619.jpg\",\"2016-02-01 175639.jpg\",\"2016-02-02 215427.png\",\"2016-02-03 133311.jpg\",\"2016-02-04 184617.png\",\"2016-02-04 222945.jpg\",\"2016-02-04 223546.jpg\",\"2016-02-04 225820.jpg\",\"2016-02-05 062955.jpg\",\"2016-02-05 171425.jpg\",\"2016-02-09 184940.jpg\",\"2016-02-09 184959.jpg\",\"2016-02-09 185011.jpg\",\"2016-02-09 185015.jpg\",\"2016-02-09 204908.jpg\",\"2016-02-09 204911(1).jpg\",\"2016-02-09 204911.jpg\",\"2016-02-09 204917.jpg\",\"2016-02-09 221356.jpg\",\"2016-02-09 222135.jpg\",\"2016-02-09 231231.jpg\",\"2016-02-10 151218.jpg\",\"2016-02-13 135919.jpg\",\"2016-02-13 135947.jpg\",\"2016-02-13 140032.jpg\",\"2016-02-14 110741.jpg\",\"2016-02-15 220807.jpg\",\"2016-02-15 220829.jpg\",\"2016-02-16 210330.jpg\",\"2016-02-16 210347.jpg\",\"2016-02-19 175310.jpg\",\"2016-02-19 175453.jpg\",\"2016-02-19 224547.jpg\",\"2016-02-19 231028.jpg\",\"2016-02-20 160327.jpg\",\"2016-02-20 205905.jpg\",\"2016-02-21 203837.jpg\",\"2016-02-21 203913.jpg\",\"2016-02-21 204000.jpg\",\"2016-02-26 190052.jpg\",\"2016-03-02 083126.jpg\",\"2016-03-02 083229.jpg\",\"2016-03-03 213417.jpg\",\"2016-03-05 144322.jpg\",\"2016-03-05 144410.jpg\",\"2016-03-05 145055.jpg\",\"2016-03-05 161208.jpg\",\"2016-03-06 120357.jpg\",\"2016-03-06 120720.jpg\",\"2016-03-06 121207.jpg\",\"2016-03-06 131333.jpg\",\"2016-03-06 132549.jpg\",\"2016-03-12 183817.jpg\",\"2016-03-12 183833.jpg\",\"2016-03-12 212027.jpg\",\"2016-03-19 192748.png\",\"2016-03-19 192752.png\",\"2016-03-21 182234.jpg\",\"2016-03-22 180624.png\",\"2016-03-22 180627.png\",\"2016-03-22 180630.png\",\"2016-03-26 193157.jpg\",\"2016-03-26 193209.jpg\",\"2016-03-27 134747.jpg\",\"2016-03-27 143907(1).jpg\",\"2016-03-27 143907.jpg\",\"2016-03-27 143917.jpg\",\"2016-03-27 143956.jpg\",\"2016-03-27 144014.jpg\",\"2016-03-27 144148(1).jpg\",\"2016-03-27 144148.jpg\",\"2016-03-27 144200.jpg\",\"2016-03-27 145943.jpg\",\"2016-03-27 150025.jpg\",\"2016-03-27 150047.jpg\",\"2016-03-27 150155.jpg\",\"2016-03-27 150204.jpg\",\"2016-03-27 150222.jpg\",\"2016-03-27 150235.jpg\",\"2016-03-27 150313.jpg\",\"2016-03-27 150430.jpg\",\"2016-03-27 150432.jpg\",\"2016-03-27 150700.jpg\",\"2016-03-27 150702.jpg\",\"2016-03-27 150703.jpg\",\"2016-03-27 150707.jpg\",\"2016-03-27 150818.jpg\",\"2016-03-27 151324.jpg\",\"2016-03-27 151514.jpg\",\"2016-03-27 151540.jpg\",\"2016-03-27 151554.jpg\",\"2016-03-27 151901.jpg\",\"2016-03-27 151910.jpg\",\"2016-03-27 151939.jpg\",\"2016-03-27 152005.jpg\",\"2016-03-27 152148.jpg\",\"2016-03-27 152237.jpg\",\"2016-03-27 152259.jpg\",\"2016-03-27 152819(1).jpg\",\"2016-03-27 152819.jpg\",\"2016-03-27 152821(1).jpg\",\"2016-03-27 152821.jpg\",\"2016-03-27 153506.jpg\",\"2016-03-27 154141.jpg\",\"2016-03-27 154200.jpg\",\"2016-03-27 155001.jpg\",\"2016-03-27 155019.jpg\",\"2016-03-27 155032.jpg\",\"2016-03-27 155116.jpg\",\"2016-03-27 161246.jpg\",\"2016-03-27 162141(1).jpg\",\"2016-03-27 162141.jpg\",\"2016-03-27 162146.jpg\",\"2016-03-27 162158.jpg\",\"2016-03-27 162808.jpg\",\"2016-03-27 162832.jpg\",\"2016-03-27 163801.jpg\",\"2016-03-27 163813(1).jpg\",\"2016-03-27 163813.jpg\",\"2016-03-27 163818(1).jpg\",\"2016-03-27 163818.jpg\",\"2016-03-27 163848.jpg\",\"2016-03-28 083903.png\",\"2016-03-29 081114.jpg\",\"2016-03-30 151649.png\",\"2016-04-01 175130(1).jpg\",\"2016-04-01 175130.jpg\",\"2016-04-01 175133.jpg\",\"2016-04-01 181043.jpg\",\"2016-04-01 183104.jpg\",\"2016-04-01 213821.png\",\"2016-04-01 213829.png\",\"2016-04-01 222511.jpg\",\"2016-04-02 131707.jpg\",\"2016-04-02 131717.jpg\",\"2016-04-02 131720.jpg\",\"2016-04-02 131723.jpg\",\"2016-04-02 132921.jpg\",\"2016-04-02 132931.jpg\",\"2016-04-02 132943.jpg\",\"2016-04-02 140022.jpg\",\"2016-04-02 140033(1).jpg\",\"2016-04-02 140033.jpg\",\"2016-04-02 140052.jpg\",\"2016-04-02 151842.jpg\",\"2016-04-02 151846.jpg\",\"2016-04-02 151847.jpg\",\"2016-04-02 152043.jpg\",\"2016-04-02 152112.jpg\",\"2016-04-02 152235.jpg\",\"2016-04-02 152428.jpg\",\"2016-04-03 095125.jpg\",\"2016-04-03 095137.jpg\",\"2016-04-03 095138.jpg\",\"2016-04-03 095144.jpg\",\"2016-04-03 101508.jpg\",\"2016-04-03 101535.jpg\",\"2016-04-03 101559.jpg\",\"2016-04-03 101633.jpg\",\"2016-04-03 101639.jpg\",\"2016-04-03 102304.jpg\",\"2016-04-03 102615(1).jpg\",\"2016-04-03 102615.jpg\",\"2016-04-03 102620(1).jpg\",\"2016-04-03 102620.jpg\",\"2016-04-03 102627.jpg\",\"2016-04-03 102655.jpg\",\"2016-04-03 102657.jpg\",\"2016-04-03 102740.jpg\",\"2016-04-03 102752.jpg\",\"2016-04-03 102804.jpg\",\"2016-04-03 102805.jpg\",\"2016-04-03 103817.jpg\",\"2016-04-03 103818.jpg\",\"2016-04-03 103827(1).jpg\",\"2016-04-03 103827.jpg\",\"2016-04-03 103850.jpg\",\"2016-04-03 104018.jpg\",\"2016-04-03 104130.jpg\",\"2016-04-03 104352.jpg\",\"2016-04-03 104423.jpg\",\"2016-04-03 104515.jpg\",\"2016-04-03 104524.jpg\",\"2016-04-03 105732.jpg\",\"2016-04-03 105827.jpg\",\"2016-04-03 105914.jpg\",\"2016-04-03 105924.jpg\",\"2016-04-03 105957(1).jpg\",\"2016-04-03 105957.jpg\",\"2016-04-03 110001.jpg\",\"2016-04-03 110002.jpg\",\"2016-04-03 110233.jpg\",\"2016-04-03 110304.jpg\",\"2016-04-03 110607.jpg\",\"2016-04-03 110613.jpg\",\"2016-04-03 110648.jpg\",\"2016-04-03 110729.jpg\",\"2016-04-03 111013.jpg\",\"2016-04-03 111019.jpg\",\"2016-04-03 111049.jpg\",\"2016-04-03 111628.jpg\",\"2016-04-03 111830.jpg\",\"2016-04-03 111935.jpg\",\"2016-04-03 112202.jpg\",\"2016-04-03 112752.jpg\",\"2016-04-03 112809.jpg\",\"2016-04-03 112832.jpg\",\"2016-04-03 112834(1).jpg\",\"2016-04-03 112834.jpg\",\"2016-04-03 112836.jpg\",\"2016-04-03 113040.jpg\",\"2016-04-03 113713(1).jpg\",\"2016-04-03 113713.jpg\",\"2016-04-03 113757(1).jpg\",\"2016-04-03 113757.jpg\",\"2016-04-03 115043.jpg\",\"2016-04-03 115550.jpg\",\"2016-04-03 115552(1).jpg\",\"2016-04-03 115552.jpg\",\"2016-04-03 115558(1).jpg\",\"2016-04-03 115558.jpg\",\"2016-04-03 115727.jpg\",\"2016-04-03 115729(1).jpg\",\"2016-04-03 115729.jpg\",\"2016-04-03 115734.jpg\",\"2016-04-03 115737.jpg\",\"2016-04-03 115811(1).jpg\",\"2016-04-03 115811.jpg\",\"2016-04-03 120239.jpg\",\"2016-04-03 120352(1).jpg\",\"2016-04-03 120352.jpg\",\"2016-04-03 120750.jpg\",\"2016-04-03 120809.jpg\",\"2016-04-03 120900.jpg\",\"2016-04-03 120906.jpg\",\"2016-04-03 121212.jpg\",\"2016-04-03 121625.jpg\",\"2016-04-03 122354.jpg\",\"2016-04-03 122801.jpg\",\"2016-04-03 125847.jpg\",\"2016-04-03 125852.jpg\",\"2016-04-03 125853.jpg\",\"2016-04-03 125905.jpg\",\"2016-04-03 130722.jpg\",\"2016-04-03 131142.jpg\",\"2016-04-03 131150(1).jpg\",\"2016-04-03 131150.jpg\",\"2016-04-03 144242.png\",\"2016-04-03 144250.png\",\"2016-04-03 145654(1).jpg\",\"2016-04-03 145654.jpg\",\"2016-04-07 192034.jpg\",\"2016-04-11 172450.jpg\",\"2016-04-11 172459.jpg\",\"2016-04-11 172506.jpg\",\"2016-04-11 172508.jpg\",\"2016-04-15 152402.jpg\",\"2016-04-15 202035.jpg\",\"2016-04-15 202036.jpg\",\"2016-04-15 204303.jpg\",\"2016-04-15 204307.jpg\",\"2016-04-15 204312.jpg\",\"2016-04-15 211600.jpg\",\"2016-04-15 211601.jpg\",\"2016-04-15 213022.jpg\",\"2016-04-17 080020.jpg\",\"2016-04-17 080025.jpg\",\"2016-04-17 080033.jpg\",\"2016-04-17 080231.jpg\",\"2016-04-17 080240.jpg\",\"2016-04-17 080538.jpg\",\"2016-04-17 080938.jpg\",\"2016-04-17 081654.jpg\",\"2016-04-17 081701.jpg\",\"2016-04-17 081710.jpg\",\"2016-04-17 081714.jpg\",\"2016-04-17 081717.jpg\",\"2016-04-17 081719.jpg\",\"2016-04-17 082329.jpg\",\"2016-04-17 082336.jpg\",\"2016-04-17 083404.jpg\",\"2016-04-17 083416.jpg\",\"2016-04-17 084412.jpg\",\"2016-04-17 084416.jpg\",\"2016-04-17 091254.jpg\",\"2016-04-17 091303.jpg\",\"2016-04-17 091510.jpg\",\"2016-04-17 093140.jpg\",\"2016-04-17 093142.jpg\",\"2016-04-17 093147.jpg\",\"2016-04-17 093156.jpg\",\"2016-04-17 093201.jpg\",\"2016-04-17 093728.jpg\",\"2016-04-17 093732.jpg\",\"2016-04-17 093748.jpg\",\"2016-04-17 093755.jpg\",\"2016-04-17 093757.jpg\",\"2016-04-17 093830.jpg\",\"2016-04-17 093837.jpg\",\"2016-04-17 094445(1).jpg\",\"2016-04-17 094445.jpg\",\"2016-04-17 094819(1).jpg\",\"2016-04-17 094819.jpg\",\"2016-04-17 094852.jpg\",\"2016-04-17 100005.jpg\",\"2016-04-17 100013.jpg\",\"2016-04-17 100310.jpg\",\"2016-04-17 100506.jpg\",\"2016-04-17 100514.jpg\",\"2016-04-17 100648.jpg\",\"2016-04-17 100834.jpg\",\"2016-04-17 101129(1).jpg\",\"2016-04-17 101129.jpg\",\"2016-04-17 101205(1).jpg\",\"2016-04-17 101205.jpg\",\"2016-04-17 101215(1).jpg\",\"2016-04-17 101548.jpg\",\"2016-04-17 103321.jpg\",\"2016-04-17 103326.jpg\",\"2016-04-17 103508.jpg\",\"2016-04-17 105138.jpg\",\"2016-04-17 105141.jpg\",\"2016-04-17 105152.jpg\",\"2016-04-17 105241.jpg\",\"2016-04-17 105524.jpg\",\"2016-04-17 105536.jpg\",\"2016-04-17 105557.jpg\",\"2016-04-17 105600.jpg\",\"2016-04-17 105610.jpg\",\"2016-04-17 105614.jpg\",\"2016-04-17 105617.jpg\",\"2016-04-17 105755.jpg\",\"2016-04-17 110321.jpg\",\"2016-04-17 110438(1).jpg\",\"2016-04-17 110438.jpg\",\"2016-04-17 110740.jpg\",\"2016-04-17 110751.jpg\",\"2016-04-17 111100.jpg\",\"2016-04-17 111138(1).jpg\",\"2016-04-17 111138.jpg\",\"2016-04-17 111433.jpg\",\"2016-04-17 111440.jpg\",\"2016-04-23 111804.jpg\",\"2016-04-23 111806.jpg\",\"2016-04-23 111820.jpg\",\"2016-04-23 111910.jpg\",\"2016-04-23 111915.jpg\",\"2016-04-23 111917.jpg\",\"2016-04-23 111926.jpg\",\"2016-04-23 111932.jpg\",\"2016-04-23 111958.jpg\",\"2016-04-23 112019.jpg\",\"2016-04-23 112723(1).jpg\",\"2016-04-23 112723.jpg\",\"2016-04-23 112725.jpg\",\"2016-04-23 112726.jpg\",\"2016-04-23 112727.jpg\",\"2016-04-23 112729.jpg\",\"2016-04-23 112733.jpg\",\"2016-04-23 112736.jpg\",\"2016-04-23 112738.jpg\",\"2016-04-23 115558.jpg\",\"2016-04-23 120732.jpg\",\"2016-04-23 121259.jpg\",\"2016-04-23 121301.jpg\",\"2016-04-23 121401.jpg\",\"2016-04-23 121405.jpg\",\"2016-04-23 121412.jpg\",\"2016-04-23 121416.jpg\",\"2016-04-23 121419.jpg\",\"2016-04-23 121420.jpg\",\"2016-04-23 123234.jpg\",\"2016-04-23 123235.jpg\",\"2016-04-23 123252.jpg\",\"2016-04-23 131159.jpg\",\"2016-04-23 131633.jpg\",\"2016-04-23 131945.jpg\",\"2016-04-23 132925.jpg\",\"2016-04-23 140724.jpg\",\"2016-04-23 140730.jpg\",\"2016-04-23 144922.jpg\",\"2016-04-23 144924(1).jpg\",\"2016-04-23 144924.jpg\",\"2016-04-23 145225.jpg\",\"2016-04-26 203324.jpg\",\"2016-04-30 193345.jpg\",\"2016-04-30 193403.jpg\",\"2016-05-05 201023.png\",\"2016-05-05 210509.jpg\",\"2016-05-06 110741.jpg\",\"2016-05-06 110812.jpg\",\"2016-05-07 200314.jpg\",\"2016-05-07 201531.jpg\",\"2016-05-07 202010.jpg\",\"2016-05-08 203507.jpg\",\"2016-05-08 203522.jpg\",\"2016-05-08 203652.jpg\",\"2016-05-08 203654.jpg\",\"2016-05-08 203658.jpg\",\"2016-05-08 203701.jpg\",\"2016-05-08 203734.jpg\",\"2016-05-08 203805.jpg\",\"2016-05-08 203807.jpg\",\"2016-05-08 203849(1).jpg\",\"2016-05-08 203849.jpg\",\"2016-05-10 210535.jpg\",\"2016-05-13 124114.jpg\",\"2016-05-13 193600.jpg\",\"2016-05-13 193606.jpg\",\"2016-05-14 093117.jpg\",\"2016-05-14 103012.png\",\"2016-05-14 103418.jpg\",\"2016-05-16 115827.jpg\",\"2016-05-21 192233.jpg\",\"2016-05-23 191800.jpg\",\"2016-05-23 191830.jpg\",\"2016-05-23 191943.jpg\",\"2016-05-24 210208.jpg\",\"2016-05-25 205517.jpg\",\"2016-05-27 172927.jpg\",\"2016-05-27 173013.jpg\",\"2016-05-28 002326.jpg\",\"2016-05-28 002341.jpg\",\"2016-05-28 002352.jpg\",\"2016-05-28 002357.jpg\",\"2016-05-28 002410.jpg\",\"2016-05-28 002417.jpg\",\"2016-05-28 002428.jpg\",\"2016-05-28 002441.jpg\",\"2016-05-28 002447.jpg\",\"2016-05-30 191852.jpg\",\"2016-05-30 191914.jpg\",\"2016-06-06 110901.jpg\",\"2016-06-10 175603.jpg\",\"2016-06-11 152628.jpg\",\"2016-06-14 203815.jpg\",\"2016-06-14 203837.jpg\",\"2016-06-14 203841.jpg\",\"2016-06-14 203844.jpg\",\"2016-06-14 205021.jpg\",\"2016-06-15 191707.jpg\",\"2016-06-16 172752.jpg\",\"2016-06-16 183943.jpg\",\"2016-06-18 095238.jpg\",\"2016-06-20 161440.jpg\",\"2016-06-20 161810.png\",\"2016-07-01 081125.png\",\"2016-07-03 123722.jpg\",\"2016-07-03 134018(1).jpg\",\"2016-07-03 134018.jpg\",\"2016-07-03 134023.jpg\",\"2016-07-03 155605.jpg\",\"2016-07-03 155727.jpg\",\"2016-07-03 155856.jpg\",\"2016-07-03 155858.jpg\",\"2016-07-04 100805.jpg\",\"2016-07-04 175914.jpg\",\"2016-07-04 175926.jpg\",\"2016-07-14 114258.jpg\",\"2016-07-17 182500.jpg\",\"2016-07-20 141632(1).jpg\",\"2016-07-20 141632.jpg\",\"2016-07-20 141645.jpg\",\"2016-07-25 191800.jpg\",\"2016-07-31 132637.jpg\",\"2016-08-08 130727.jpg\",\"2016-08-09 123636.png\",\"2016-08-09 123954.png\",\"2016-08-17 192702.jpg\",\"2016-08-18 081701.jpg\",\"2016-08-19 175948.jpg\",\"2016-08-19 204856.jpg\",\"2016-08-19 204908.jpg\",\"2016-08-19 204911.jpg\",\"2016-08-29 212941.jpg\",\"2016-08-31 185304.jpg\",\"2016-09-02 074431.jpg\",\"2016-09-02 224202.jpg\",\"2016-09-07 184846.jpg\",\"2016-09-07 184850.jpg\",\"2016-09-07 184854.jpg\",\"2016-09-07 185500.jpg\",\"2016-09-07 190855.jpg\",\"2016-09-07 190908.jpg\",\"2016-09-07 190959.jpg\",\"2016-09-07 191021.jpg\",\"2016-09-07 191028.jpg\",\"2016-09-07 191113.jpg\",\"2016-09-07 191133.jpg\",\"2016-09-07 213936.jpg\",\"2016-09-08 184916.jpg\",\"2016-09-08 184919.jpg\",\"2016-09-08 185012.jpg\",\"2016-09-13 163714.jpg\",\"2016-09-13 173913.jpg\",\"2016-09-16 141208.jpg\",\"2016-09-16 141700.jpg\",\"2016-09-16 144112.jpg\",\"2016-09-16 144515.jpg\",\"2016-09-16 144608.jpg\",\"2016-09-16 145441.jpg\",\"2016-09-16 145556.jpg\",\"2016-09-16 145848.jpg\",\"2016-09-16 150520.jpg\",\"2016-09-16 151448.jpg\",\"2016-09-16 151502.jpg\",\"2016-09-16 152531.jpg\",\"2016-09-16 155011.jpg\",\"2016-09-16 161507.jpg\",\"2016-09-16 163752.jpg\",\"2016-09-16 165815.jpg\",\"2016-09-16 193425.jpg\",\"2016-09-16 213043.jpg\",\"2016-09-16 213045.jpg\",\"2016-09-26 195951.jpg\",\"2016-09-26 204332.jpg\",\"2016-09-27 102023.jpg\",\"2016-09-28 095535.jpg\",\"2016-09-28 191914.jpg\",\"2016-09-28 192103.jpg\",\"2016-10-01 194903.jpg\",\"2016-10-05 111452.jpg\",\"2016-10-05 113806.jpg\",\"2016-10-05 114550.jpg\",\"2016-10-05 114837.jpg\",\"2016-10-05 115014.jpg\",\"2016-10-05 115355.jpg\",\"2016-10-05 115530.jpg\",\"2016-10-05 115539.jpg\",\"2016-10-05 115546.jpg\",\"2016-10-05 115641.jpg\",\"2016-10-05 115646.jpg\",\"2016-10-05 115744.jpg\",\"2016-10-05 115756.jpg\",\"2016-10-05 120556.jpg\",\"2016-10-05 120645.jpg\",\"2016-10-05 120756.jpg\",\"2016-10-05 122246.jpg\",\"2016-10-05 122919.jpg\",\"2016-10-05 123348.jpg\",\"2016-10-05 123407.jpg\",\"2016-10-05 123729.jpg\",\"2016-10-05 124806.jpg\",\"2016-10-05 124906.jpg\",\"2016-10-05 124916.jpg\",\"2016-10-05 125345.jpg\",\"2016-10-05 125356.jpg\",\"2016-10-05 130230.jpg\",\"2016-10-05 130239.jpg\",\"2016-10-05 130301.jpg\",\"2016-10-05 133018.jpg\",\"2016-10-05 133021.jpg\",\"2016-10-05 165604.jpg\",\"2016-10-10 095722.jpg\",\"2016-10-19 215109.jpg\",\"2016-10-19 215114.jpg\",\"2016-10-23 152052.jpg\",\"2016-10-28 192743.jpg\",\"2016-10-29 132229(1).jpg\",\"2016-10-29 132229.jpg\",\"2016-10-29 132301.jpg\",\"2016-10-29 133114.jpg\",\"2016-10-29 133300.jpg\",\"2016-10-29 134936.jpg\",\"2016-10-29 143608.jpg\",\"2016-10-29 143628.jpg\",\"2016-10-29 143820.jpg\",\"2016-10-29 145835(1).jpg\",\"2016-10-29 145835.jpg\",\"2016-10-29 154811.jpg\",\"2016-10-29 160459.jpg\",\"2016-10-29 160517.jpg\",\"2016-10-29 160652.jpg\",\"2016-10-29 161158.jpg\",\"2016-10-29 161223.jpg\",\"2016-10-29 161737.jpg\",\"2016-10-29 161744.jpg\",\"2016-10-29 161759.jpg\",\"2016-10-29 161816.jpg\",\"2016-10-29 161822.jpg\",\"2016-10-29 164224.jpg\",\"2016-10-29 164237.jpg\",\"2016-10-29 164245.jpg\",\"2016-10-29 164249.jpg\",\"2016-10-29 164303.jpg\",\"2016-10-29 164613.jpg\",\"2016-10-29 165546.jpg\",\"2016-10-29 172949.jpg\",\"2016-10-29 180001.jpg\",\"2016-11-04 195753.jpg\",\"2016-11-04 195905.jpg\",\"2016-11-07 123405.jpg\",\"2016-11-07 174342.jpg\",\"2016-11-07 174359.jpg\",\"2016-11-07 174412.jpg\",\"2016-11-09 132613.jpg\",\"2016-11-09 145847.jpg\",\"2016-11-11 185746.jpg\",\"2016-11-11 194840.jpg\",\"2016-11-11 194858.jpg\",\"2016-11-11 195343.jpg\",\"2016-11-11 195353.jpg\",\"2016-11-11 195604.jpg\",\"2016-11-11 200216.jpg\",\"2016-11-11 200238.jpg\",\"2016-11-11 201202.jpg\",\"2016-11-11 201303.jpg\",\"2016-11-11 201721.jpg\",\"2016-11-11 201830.jpg\",\"2016-11-11 202037.jpg\",\"2016-11-11 202048.jpg\",\"2016-11-11 202148.jpg\",\"2016-11-11 202158.jpg\",\"2016-11-17 211824.jpg\",\"IMG20161210100302.jpg\",\"IMG_20161121_205426.jpg\",\"IMG_20161121_205439.jpg\",\"IMG_20161121_205511.jpg\",\"IMG_20161121_210056.jpg\",\"IMG_20161121_210143.jpg\",\"IMG_20161130_195212.jpg\",\"IMG_20161130_213456.jpg\",\"IMG_20161130_213556.jpg\",\"IMG_20161130_214713.jpg\",\"IMG_20161130_215920.jpg\",\"IMG_20161130_220446.jpg\",\"IMG_20161204_120306.jpg\",\"IMG_20161205_160943.jpg\",\"IMG_20161207_133736.jpg\",\"IMG_20161208_173225.jpg\",\"IMG_20161211_145922.jpg\",\"IMG_20161216_224436.jpg\",\"IMG_20161223_180832.jpg\",\"IMG_20161224_151707.jpg\",\"IMG_20161224_152222.jpg\",\"IMG_20161224_162256.jpg\",\"IMG_20161224_165235.jpg\",\"IMG_20161224_170428.jpg\",\"IMG_20161224_170523.jpg\",\"IMG_20161224_170619.jpg\",\"IMG_20161224_170658.jpg\",\"IMG_20161224_170717.jpg\",\"IMG_20161224_170750.jpg\",\"IMG_20161224_170822.jpg\",\"IMG_20161224_170923.jpg\",\"IMG_20161224_171008.jpg\",\"IMG_20161224_171038.jpg\",\"IMG_20161224_171107.jpg\",\"IMG_20161224_171339.jpg\",\"IMG_20161224_171518.jpg\",\"IMG_20161224_171713.jpg\",\"IMG_20161224_171929.jpg\",\"IMG_20161224_172653.jpg\",\"IMG_20161224_172737.jpg\",\"IMG_20161224_173736.jpg\",\"IMG_20161224_173928.jpg\",\"IMG_20161224_173948.jpg\",\"IMG_20161224_174014.jpg\",\"IMG_20161224_174639.jpg\",\"IMG_20161224_174830.jpg\",\"IMG_20170104_155154.jpg\",\"IMG_20170104_155242.jpg\",\"IMG_20170104_155431.jpg\",\"IMG_20170110_084119.jpg\",\"IMG_20170110_084128.jpg\",\"IMG_20170110_084217.jpg\",\"IMG_20170110_084932.jpg\",\"IMG_20170112_152423.jpg\",\"IMG_20170112_190241.jpg\",\"IMG_20170113_084613.jpg\",\"IMG_20170113_084626.jpg\",\"IMG_20170113_174425.jpg\",\"IMG_20170113_221058.jpg\",\"IMG_20170114_161551.jpg\",\"IMG_20170114_164419.jpg\",\"IMG_20170114_164629.jpg\",\"IMG_20170118_113604.jpg\",\"IMG_20170119_083228.jpg\",\"IMG_20170123_165636.jpg\",\"IMG_20170123_165653.jpg\",\"IMG_20170127_100418.jpg\",\"IMG_20170127_190715.jpg\",\"IMG_20170131_192554.jpg\",\"IMG_20170131_192558.jpg\",\"IMG_20170131_192610.jpg\",\"IMG_20170131_192624.jpg\",\"IMG_20170131_192702.jpg\",\"IMG_20170131_192908.jpg\",\"IMG_20170131_192952.jpg\",\"IMG_20170131_193023.jpg\",\"IMG_20170131_193104.jpg\",\"IMG_20170131_193124.jpg\",\"IMG_20170131_193256.jpg\",\"IMG_20170131_193423.jpg\",\"IMG_20170131_193431.jpg\",\"IMG_20170131_195233.jpg\",\"IMG_20170131_195717.jpg\",\"IMG_20170131_195846.jpg\",\"IMG_20170131_200706.jpg\",\"IMG_20170131_200945.jpg\",\"IMG_20170131_201457.jpg\",\"IMG_20170204_215130.jpg\",\"IMG_20170211_183508.jpg\",\"IMG_20170211_183636.jpg\",\"IMG_20170215_135100.JPG\",\"haha.jpg\",\"5835570118d7f.jpg\"]"},{"title":"","date":"2017-02-17T13:05:20.000Z","updated":"2017-02-17T13:05:20.000Z","comments":true,"path":"photos/ins.js","permalink":"http://loveswift.site/photos/ins.js","excerpt":"","text":"/******/ (function(modules) { // webpackBootstrap /******/ // The module cache /******/ var installedModules = {}; /******/ /******/ // The require function /******/ function __webpack_require__(moduleId) { /******/ /******/ // Check if module is in cache /******/ if (installedModules[moduleId]) /******/ return installedModules[moduleId].exports; /******/ /******/ // Create a new module (and put it into the cache) /******/ var module = installedModules[moduleId] = { /******/ exports: {}, /******/ id: moduleId, /******/ loaded: false /******/ }; /******/ /******/ // Execute the module function /******/ modules[moduleId].call(module.exports, module, module.exports, __webpack_require__); /******/ /******/ // Flag the module as loaded /******/ module.loaded = true; /******/ /******/ // Return the exports of the module /******/ return module.exports; /******/ } /******/ /******/ /******/ // expose the modules object (__webpack_modules__) /******/ __webpack_require__.m = modules; /******/ /******/ // expose the module cache /******/ __webpack_require__.c = installedModules; /******/ /******/ // __webpack_public_path__ /******/ __webpack_require__.p = \"/dist/\"; /******/ /******/ // Load entry module and return exports /******/ return __webpack_require__(0); /******/ }) /************************************************************************/ /******/ ([ /* 0 */ /***/ function(module, exports, __webpack_require__) { 'use strict'; __webpack_require__(1); var _view = __webpack_require__(2); var _view2 = _interopRequireDefault(_view); function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; } /** * @name impush-client * @description 这个项目让我发家致富… * @date 2016-12-1 */ var _collection = []; var _count = 0; var searchData; function addMask(elem) { var rect = elem.getBoundingClientRect(); var style = getComputedStyle(elem, null); var mask = document.createElement('i'); mask.className = 'icon-film'; mask.style.color = '#fff'; mask.style.fontSize = '26px'; mask.style.position = 'absolute'; mask.style.right = '10px'; mask.style.bottom = '10px'; mask.style.zIndex = 1; elem.parentNode.appendChild(mask); } var createVideoIncon = function createVideoIncon() { var $videoImg = document.querySelectorAll('.thumb a[data-type=\"video\"]'); for (var i = 0, len = $videoImg.length; i < len; i++) { addMask($videoImg[i]); } }; var render = function render(res) { var ulTmpl = \"\"; for (var j = res.length-1; j>=0; j--) { var data = res[j]; var liTmpl = \"\"; var src = 'http://olg4t9xt4.bkt.clouddn.com/' + data; ; var minSrc = src + '?imageView2/1/w/200/h/200/q/100&raw=true'; var target = minSrc; src += '?imageView2/1/w/800/h/800/q/100&raw=true'; var type = \"image\"; ulTmpl += '\\ \\ \\ \\ ' + \"来自七牛\" + '\\ '; } document.querySelector('.instagram').innerHTML = '' + ulTmpl + ''; createVideoIncon(); _view2.default.init(); }; var replacer = function replacer(str) { var arr = str.split(\"/\"); return \"/assets/ins/\" + arr[arr.length - 1]; }; var ctrler = function ctrler(data) { var imgObj = {}; for (var i = 0, len = data.length; i < len; i++) { var y = data[i].y; var m = data[i].m; var src = replacer(data[i].src); var text = data[i].text; var key = y + \"\" + ((m + \"\").length == 1 ? \"0\" + m : m); if (imgObj[key]) { imgObj[key].srclist.push(src); imgObj[key].text.push(text); } else { imgObj[key] = { year: y, month: m, srclist: [src], text: [text] }; } } render(imgObj); }; function loadData(success) { if (!searchData) { var xhr = new XMLHttpRequest(); xhr.open('GET', './ins.json?t=' + +new Date(), true); xhr.onload = function() { if (this.status >= 200 && this.status < 300) { var res = JSON.parse(this.response); searchData = res; success(searchData); } else { console.error(this.statusText); } }; xhr.onerror = function() { console.error(this.statusText); }; xhr.send(); } else { success(searchData); } } var Ins = { init: function init() { loadData(function(data) { render(data); }); } }; Ins.init(); // export default impush; /***/ }, /* 1 */ /***/ function(module, exports, __webpack_require__) { /* WEBPACK VAR INJECTION */ (function(global) { 'use strict'; var inViewport = __webpack_require__(3); var lazyAttrs = ['data-src']; global.lzld = lazyload(); // Provide libs using getAttribute early to get the good src // and not the fake data-src replaceGetAttribute('Image'); replaceGetAttribute('IFrame'); function registerLazyAttr(attr) { if (indexOf.call(lazyAttrs, attr) === -1) { lazyAttrs.push(attr); } } function lazyload(opts) { opts = merge({ 'offset': 333, 'src': 'data-src', 'container': false }, opts || {}); if (typeof opts.src === 'string') { registerLazyAttr(opts.src); } var elts = []; function show(elt) { var src = findRealSrc(elt); if (src) { elt.src = src; } elt.setAttribute('data-lzled', true); elts[indexOf.call(elts, elt)] = null; } function findRealSrc(elt) { if (typeof opts.src === 'function') { return opts.src(elt); } return elt.getAttribute(opts.src); } function register(elt) { elt.onload = null; elt.removeAttribute('onload'); elt.onerror = null; elt.removeAttribute('onerror'); if (indexOf.call(elts, elt) === -1) { inViewport(elt, opts, show); } } return register; } function replaceGetAttribute(elementName) { var fullname = 'HTML' + elementName + 'Element'; if (fullname in global === false) { return; } var original = global[fullname].prototype.getAttribute; global[fullname].prototype.getAttribute = function(name) { if (name === 'src') { var realSrc; for (var i = 0, max = lazyAttrs.length; i < max; i++) { realSrc = original.call(this, lazyAttrs[i]); if (realSrc) { break; } } return realSrc || original.call(this, name); } // our own lazyloader will go through theses lines // because we use getAttribute(opts.src) return original.call(this, name); }; } function merge(defaults, opts) { for (var name in defaults) { if (opts[name] === undefined) { opts[name] = defaults[name]; } } return opts; } // http://webreflection.blogspot.fr/2011/06/partial-polyfills.html function indexOf(value) { for (var i = this.length; i-- && this[i] !== value;) {} return i; } module.exports = lazyload; // export default impush; /* WEBPACK VAR INJECTION */ }.call(exports, (function() { return this; }()))) /***/ }, /* 2 */ /***/ function(module, exports) { 'use strict'; var initPhotoSwipeFromDOM = function initPhotoSwipeFromDOM(gallerySelector) { // parse slide data (url, title, size ...) from DOM elements // (children of gallerySelector) var parseThumbnailElements = function parseThumbnailElements(el) { el = el.parentNode.parentNode; var thumbElements = el.getElementsByClassName('thumb'), numNodes = thumbElements.length, items = [], figureEl, linkEl, size, type, // video or not target, item; for (var i = 0; i < numNodes; i++) { figureEl = thumbElements[i]; // // include only element nodes if (figureEl.nodeType !== 1) { continue; } linkEl = figureEl.children[0]; // size = linkEl.getAttribute('data-size').split('x'); type = linkEl.getAttribute('data-type'); target = linkEl.getAttribute('data-target'); // create slide object item = { src: linkEl.getAttribute('href'), w: parseInt(size[0], 10), h: parseInt(size[1], 10) }; if (figureEl.children.length > 1) { item.title = figureEl.children[1].innerHTML; } if (linkEl.children.length > 0) { item.msrc = linkEl.children[0].getAttribute('src'); item.type = type; item.target = target; item.html = ''; if (type === 'video') { //item.src = null; } } item.el = figureEl; // save link to element for getThumbBoundsFn items.push(item); } return items; }; // find nearest parent element var closest = function closest(el, fn) { return el && (fn(el) ? el : closest(el.parentNode, fn)); }; // triggers when user clicks on thumbnail var onThumbnailsClick = function onThumbnailsClick(e) { e = e || window.event; e.preventDefault ? e.preventDefault() : e.returnValue = false; var eTarget = e.target || e.srcElement; // find root element of slide var clickedListItem = closest(eTarget, function(el) { return el.tagName && el.tagName.toUpperCase() === 'FIGURE'; }); if (!clickedListItem) { return; } // find index of clicked item by looping through all child nodes // alternatively, you may define index via data- attribute var clickedGallery = clickedListItem.parentNode, // childNodes = clickedListItem.parentNode.childNodes, // numChildNodes = childNodes.length, childNodes = document.getElementsByClassName('thumb'), numChildNodes = childNodes.length, nodeIndex = 0, index; for (var i = 0; i < numChildNodes; i++) { if (childNodes[i].nodeType !== 1) { continue; } if (childNodes[i] === clickedListItem) { index = nodeIndex; break; } nodeIndex++; } if (index >= 0) { // open PhotoSwipe if valid index found openPhotoSwipe(index, clickedGallery); } return false; }; // parse picture index and gallery index from URL (#&pid=1&gid=2) var photoswipeParseHash = function photoswipeParseHash() { var hash = window.location.hash.substring(1), params = {}; if (hash.length < 5) { return params; } var vars = hash.split('&'); for (var i = 0; i < vars.length; i++) { if (!vars[i]) { continue; } var pair = vars[i].split('='); if (pair.length < 2) { continue; } params[pair[0]] = pair[1]; } if (params.gid) { params.gid = parseInt(params.gid, 10); } return params; }; var openPhotoSwipe = function openPhotoSwipe(index, galleryElement, disableAnimation, fromURL) { var pswpElement = document.querySelectorAll('.pswp')[0], gallery, options, items; items = parseThumbnailElements(galleryElement); // define options (if needed) options = { // define gallery index (for URL) galleryUID: galleryElement.getAttribute('data-pswp-uid'), getThumbBoundsFn: function getThumbBoundsFn(index) { // See Options -> getThumbBoundsFn section of documentation for more info var thumbnail = items[index].el.getElementsByTagName('img')[0], // find thumbnail pageYScroll = window.pageYOffset || document.documentElement.scrollTop, rect = thumbnail.getBoundingClientRect(); return { x: rect.left, y: rect.top + pageYScroll, w: rect.width }; } }; // PhotoSwipe opened from URL if (fromURL) { if (options.galleryPIDs) { // parse real index when custom PIDs are used // http://photoswipe.com/documentation/faq.html#custom-pid-in-url for (var j = 0; j < items.length; j++) { if (items[j].pid == index) { options.index = j; break; } } } else { // in URL indexes start from 1 options.index = parseInt(index, 10) - 1; } } else { options.index = parseInt(index, 10); } // exit if index not found if (isNaN(options.index)) { return; } if (disableAnimation) { options.showAnimationDuration = 0; } // Pass data to PhotoSwipe and initialize it gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options); gallery.init(); var $tempVideo; var stopVideoHandle = function stopVideoHandle() { if ($tempVideo) { $tempVideo.remove(); $tempVideo = null; } }; var changeHandle = function changeHandle() { var item = gallery.currItem; stopVideoHandle(); if (item.type === 'video') { var $ctn = item.container; var style = $ctn.getElementsByClassName('pswp__img')[0].style; var $video = document.createElement('video'); $video.setAttribute('autoplay', 'autoplay'); $video.setAttribute('controls', 'controls'); $video.setAttribute('src', item.target); $video.style.width = style.width; $video.style.height = style.height; $video.style.position = 'absolute'; $video.style.zIndex = 2; $tempVideo = $video; $ctn.appendChild($video); } }; gallery.listen('initialZoomIn', changeHandle); gallery.listen('afterChange', changeHandle); gallery.listen('initialZoomOut', stopVideoHandle); }; // loop through all gallery elements and bind events var galleryElements = document.querySelectorAll(gallerySelector); for (var i = 0, l = galleryElements.length; i < l; i++) { galleryElements[i].setAttribute('data-pswp-uid', i + 1); galleryElements[i].onclick = onThumbnailsClick; } // Parse URL and open gallery if it contains #&pid=3&gid=1 var hashData = photoswipeParseHash(); if (hashData.pid && hashData.gid) { openPhotoSwipe(hashData.pid, galleryElements[hashData.gid - 1], true, true); } }; var Viewer = function() { function init() { initPhotoSwipeFromDOM('.photos'); } return { init: init }; }(); module.exports = Viewer; /***/ }, /* 3 */ /***/ function(module, exports) { /* WEBPACK VAR INJECTION */ (function(global) { module.exports = inViewport; var instances = []; var supportsMutationObserver = typeof global.MutationObserver === 'function'; function inViewport(elt, params, cb) { var opts = { container: global.document.body, offset: 0 }; if (params === undefined || typeof params === 'function') { cb = params; params = {}; } var container = opts.container = params.container || opts.container; var offset = opts.offset = params.offset || opts.offset; for (var i = 0; i < instances.length; i++) { if (instances[i].container === container) { return instances[i].isInViewport(elt, offset, cb); } } return instances[ instances.push(createInViewport(container)) - 1 ].isInViewport(elt, offset, cb); } function addEvent(el, type, fn) { if (el.attachEvent) { el.attachEvent('on' + type, fn); } else { el.addEventListener(type, fn, false); } } function debounce(func, wait, immediate) { var timeout; return function() { var context = this, args = arguments; var callNow = immediate && !timeout; clearTimeout(timeout); timeout = setTimeout(later, wait); if (callNow) func.apply(context, args); function later() { timeout = null; if (!immediate) func.apply(context, args); } }; } // https://github.com/jquery/sizzle/blob/3136f48b90e3edc84cbaaa6f6f7734ef03775a07/sizzle.js#L708 var contains = function() { if (!global.document) { return true; } return global.document.documentElement.compareDocumentPosition ? function(a, b) { return !!(a.compareDocumentPosition(b) & 16); } : global.document.documentElement.contains ? function(a, b) { return a !== b && (a.contains ? a.contains(b) : false); } : function(a, b) { while (b = b.parentNode) { if (b === a) { return true; } } return false; }; } function createInViewport(container) { var watches = createWatches(); var scrollContainer = container === global.document.body ? global : container; var debouncedCheck = debounce(watches.checkAll(watchInViewport), 15); addEvent(scrollContainer, 'scroll', debouncedCheck); if (scrollContainer === global) { addEvent(global, 'resize', debouncedCheck); } if (supportsMutationObserver) { observeDOM(watches, container, debouncedCheck); } // failsafe check, every 200ms we check for visible images // usecase: a hidden parent containing eleements // when the parent becomes visible, we have no event that the children // became visible setInterval(debouncedCheck, 150); function isInViewport(elt, offset, cb) { if (!cb) { return isVisible(elt, offset); } var remote = createRemote(elt, offset, cb); remote.watch(); return remote; } function createRemote(elt, offset, cb) { function watch() { watches.add(elt, offset, cb); } function dispose() { watches.remove(elt); } return { watch: watch, dispose: dispose }; } function watchInViewport(elt, offset, cb) { if (isVisible(elt, offset)) { watches.remove(elt); cb(elt); } } function isVisible(elt, offset) { if (!contains(global.document.documentElement, elt) || !contains(global.document.documentElement, container)) { return false; } // Check if the element is visible // https://github.com/jquery/jquery/blob/740e190223d19a114d5373758127285d14d6b71e/src/css/hiddenVisibleSelectors.js if (!elt.offsetWidth || !elt.offsetHeight) { return false; } var eltRect = elt.getBoundingClientRect(); var viewport = {}; if (container === global.document.body) { viewport = { top: -offset, left: -offset, right: global.document.documentElement.clientWidth + offset, bottom: global.document.documentElement.clientHeight + offset }; } else { var containerRect = container.getBoundingClientRect(); viewport = { top: containerRect.top - offset, left: containerRect.left - offset, right: containerRect.right + offset, bottom: containerRect.bottom + offset }; } // The element must overlap with the visible part of the viewport var visible = ( (eltRect.right > viewport.left) && (eltRect.left < viewport.right) && (eltRect.bottom > viewport.top) && (eltRect.top < viewport.bottom) ); return visible; } return { container: container, isInViewport: isInViewport }; } function createWatches() { var watches = []; function add(elt, offset, cb) { if (!isWatched(elt)) { watches.push([elt, offset, cb]); } } function remove(elt) { var pos = indexOf(elt); if (pos !== -1) { watches.splice(pos, 1); } } function indexOf(elt) { for (var i = watches.length - 1; i >= 0; i--) { if (watches[i][0] === elt) { return i; } } return -1; } function isWatched(elt) { return indexOf(elt) !== -1; } function checkAll(cb) { return function() { for (var i = watches.length - 1; i >= 0; i--) { cb.apply(this, watches[i]); } }; } return { add: add, remove: remove, isWatched: isWatched, checkAll: checkAll }; } function observeDOM(watches, container, cb) { var observer = new MutationObserver(watch); var filter = Array.prototype.filter; var concat = Array.prototype.concat; observer.observe(container, { childList: true, subtree: true, // changes like style/width/height/display will be catched attributes: true }); function watch(mutations) { // some new DOM nodes where previously watched // we should check their positions if (mutations.some(knownNodes) === true) { setTimeout(cb, 0); } } function knownNodes(mutation) { var nodes = concat.call([], Array.prototype.slice.call(mutation.addedNodes), mutation.target ); return filter.call(nodes, watches.isWatched).length > 0; } } /* WEBPACK VAR INJECTION */ }.call(exports, (function() { return this; }()))) /***/ } /******/ ]);"},{"title":"tags","date":"2017-02-17T11:21:23.000Z","updated":"2017-02-17T11:21:23.000Z","comments":true,"path":"tags/index.html","permalink":"http://loveswift.site/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"Hexo设置多说shortname","slug":"Hexo设置多说shortname","date":"2017-02-18T07:40:04.000Z","updated":"2017-02-18T08:29:12.000Z","comments":true,"path":"2017/02/18/Hexo设置多说shortname/","link":"","permalink":"http://loveswift.site/2017/02/18/Hexo设置多说shortname/","excerpt":"","text":"起因本来是很简单的问题，但是浪费我不少时间，所以有必要记录一下，防止下次出错。刚开始配置多说shortname压根没有在意，因为上一个主题的这个是随便填的，而且成功了（黑人问号）。所以这次也是随便写的，怎么都失败，还看了控制台、源代码，后来突然觉得这个shortname这个单词好奇怪,然后百度了一下。 解决比如我的多说二级域名是xxx.duoshuo.com，shortname就是xxx。最后吐槽一下，short不是短的意思吗，短名字？，are you sure？","categories":[],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://loveswift.site/tags/Hexo/"},{"name":"技术","slug":"技术","permalink":"http://loveswift.site/tags/技术/"}]},{"title":"Node.js上传图片到七牛","slug":"Node.js上传图片到七牛","date":"2017-02-17T02:28:07.000Z","updated":"2017-02-17T08:04:45.000Z","comments":true,"path":"2017/02/17/Node.js上传图片到七牛/","link":"","permalink":"http://loveswift.site/2017/02/17/Node.js上传图片到七牛/","excerpt":"","text":"起源主题基于 Yilia ，作者使用的是Instagram拉取的相册，捣鼓了半天，翻墙申请账号，最后发现图片爬不下来，后来发现一篇七牛上传的node脚本，因为需要上传的图片太多，然后改成了自己需要的。1234567891011121314if (stats.isFile()) &#123; var suffix = getFilenameSuffix(files[index]); if(!(suffix==&apos;.js&apos;|| suffix == &apos;.DS_Store&apos;))&#123; //要上传文件的本地路径 filePath = path+&apos;/&apos;+files[index]; console.log(&apos;抓取到文件: &apos;+files[index]); //上传到七牛后保存的文件名 key = files[index]; //生成上传 Token token = uptoken(bucket, key); // 异步执行 uploadFile(token, key, filePath); arr.push(files[index]); &#125; 这是上传图片的主要代码，主要问题有在photos文件中如果新增了图片，会把以前的图片再次上传一遍，所以做了检查重复不会上传：12345678910/*** 判断数组中是否包含某元素*/function array_contain(array, obj)&#123; for (var i = 0; i &lt; array.length; i++)&#123; if (array[i] == obj)//如果要求数据类型也一致，这里可使用恒等号=== return true; &#125; return false;&#125; 然后愉快的开始执行，因为photos文件里大约有1000多张图片，理所当然的电脑直接死机。因为执行了一千次异步方法，js又是单线程，那就用同步上传的方法，js异步改成同步的话有嵌套或者回调，我用了async库，用法很简单:1234async.series([ function(callback) &#123; ... &#125;, function(callback) &#123; ... &#125;]); 要求传入函数数组，而不是对象Object数组，所以我把上传图片方法改成了闭包: 12345678910111213141516//构造上传函数function uploadFile(uptoken, key, localFile) &#123; var extra = new qiniu.io.PutExtra(); return function(callback) &#123; qiniu.io.putFile(uptoken, key, localFile, extra, function(err, ret) &#123; if(!err) &#123; // 上传成功， 处理返回值 console.log(&apos;上传成功 : &apos;,ret.hash, ret.key); callback(); &#125; else &#123; // 上传失败， 处理返回代码 console.log(err); callback(); &#125; &#125;); &#125;&#125; 当读取完图片之后执行上传： 123456789if (index == files.length) &#123; // 执行上传 console.log(funArr.length); async.series(funArr, function(err, result) &#123; console.log(&quot;上传完成&quot;); fs.writeFile(&quot;./ins.json&quot;, JSON.stringify(arr, null, &quot;\\t&quot;)); return; &#125;); &#125; 修改过后的tool.js脚本代码: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114const fs = require(&quot;fs&quot;); const path = &quot;../../photos&quot;; var qiniu = require(&quot;qiniu&quot;); var async = require(&quot;async&quot;); //需要填写你的 Access Key 和 Secret Key qiniu.conf.ACCESS_KEY = &apos;&apos;; qiniu.conf.SECRET_KEY = &apos;&apos;; //要上传的空间 bucket = &apos;hexo&apos;; //构建上传策略函数 function uptoken(bucket, key) &#123; var putPolicy = new qiniu.rs.PutPolicy(bucket+&quot;:&quot;+key); return putPolicy.token(); &#125; //构造上传函数 function uploadFile(uptoken, key, localFile) &#123; var extra = new qiniu.io.PutExtra(); return function(callback) &#123; qiniu.io.putFile(uptoken, key, localFile, extra, function(err, ret) &#123; if(!err) &#123; // 上传成功， 处理返回值 console.log(&apos;上传成功 : &apos;,ret.hash, ret.key); callback(); &#125; else &#123; // 上传失败， 处理返回代码 console.log(err); callback(); &#125; &#125;); &#125; &#125; /** * 读取文件后缀名称，并转化成小写 * @param file_name * @returns */ function getFilenameSuffix(file_name) &#123; if(file_name==&apos;.DS_Store&apos;)&#123; return &apos;.DS_Store&apos;; &#125; if (file_name == null || file_name.length == 0) return null; var result = /\\.[^\\.]+/.exec(file_name); return result == null ? null : (result + &quot;&quot;).toLowerCase(); &#125; /** * 判断数组中是否包含某元素 */ function array_contain(array, obj)&#123; for (var i = 0; i &lt; array.length; i++)&#123; if (array[i] == obj)//如果要求数据类型也一致，这里可使用恒等号=== return true; &#125; return false; &#125; /* 读取photos内的图片 */ fs.readdir(path, function (err, files) &#123; if (err) &#123; return; &#125; // 读取json文件 var data = fs.readFileSync(&apos;ins.json&apos;, &apos;utf-8&apos;); var arr = JSON.parse(data); var funArr = new Array(); (function iterator(index) &#123; if (index == files.length) &#123; // 执行上传 console.log(funArr.length); async.series(funArr, function(err, result) &#123; console.log(&quot;上传完成&quot;); fs.writeFile(&quot;./ins.json&quot;, JSON.stringify(arr, null, &quot;\\t&quot;)); return; &#125;); &#125; fs.stat(path + &quot;/&quot; + files[index], function (err, stats) &#123; if (err) &#123; return; &#125; if (stats.isFile() &amp;&amp; !array_contain(arr, files[index])) &#123; var suffix = getFilenameSuffix(files[index]); if(!(suffix==&apos;.js&apos;|| suffix == &apos;.DS_Store&apos;))&#123; //要上传文件的本地路径 filePath = path+&apos;/&apos;+files[index]; // console.log(&apos;抓取到文件: &apos;+files[index]); //上传到七牛后保存的文件名 key = files[index]; //生成上传 Token token = uptoken(bucket, key); // 异步执行 funArr.push(uploadFile(token, key, filePath)); arr.push(files[index]); &#125; &#125; else &#123; console.log(&apos;不是文件或者已经上传过了: &apos;+files[index]); &#125; iterator(index + 1); &#125;) &#125;(0)); &#125;); 刚刚把tool修改成了直接可以上传两个文件夹的图片，一个文章引用，一个是相册，附上一张效果图：","categories":[],"tags":[{"name":"技术","slug":"技术","permalink":"http://loveswift.site/tags/技术/"},{"name":"Node","slug":"Node","permalink":"http://loveswift.site/tags/Node/"}]},{"title":"秒速五厘米","slug":"秒速五厘米","date":"2017-02-16T05:45:59.000Z","updated":"2017-02-17T04:37:08.000Z","comments":true,"path":"2017/02/16/秒速五厘米/","link":"","permalink":"http://loveswift.site/2017/02/16/秒速五厘米/","excerpt":"","text":"在这几年里我光顾着低头前行只想着得到那无法得到的东西但是又不知道那究竟是什么而这个不知从何而来的想法逐渐地变成一种压迫让我只能靠不停工作来解脱等我惊觉之时逐渐僵硬的心只能感觉到痛苦然后在一天早上我发现曾经那刻骨铭心的感情已然完全失却","categories":[],"tags":[{"name":"动漫","slug":"动漫","permalink":"http://loveswift.site/tags/动漫/"},{"name":"生活","slug":"生活","permalink":"http://loveswift.site/tags/生活/"}]},{"title":"清晨 醒来的时候","slug":"你的名字","date":"2017-02-15T01:54:03.000Z","updated":"2017-02-17T02:55:55.000Z","comments":true,"path":"2017/02/15/你的名字/","link":"","permalink":"http://loveswift.site/2017/02/15/你的名字/","excerpt":"","text":"清晨 醒来的时候不知道自己为什么会哭时常会有这样的情况做过的梦总回想不起只是只是一种有什么要消失的丧失感即使醒来后 也一直存在我一直在寻找 寻找着某个人陷入这种情绪应该是从那天开始的那天 彗星划过天空的那天那就像就像梦幻一般的景色一般那真是 无与伦比美到极致的景色","categories":[],"tags":[{"name":"动漫","slug":"动漫","permalink":"http://loveswift.site/tags/动漫/"},{"name":"生活","slug":"生活","permalink":"http://loveswift.site/tags/生活/"}]}]}